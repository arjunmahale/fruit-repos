<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
        * {
        margin: 0;
        padding: 0;
        scroll-behavior: smooth;
      }
      .sec1 {
        height: 100px;
        width: 100%;
        position: sticky;
        top: 0;
        z-index: 1000;
        transition: all 0.3s ease;
      }
      .sec1.sticky {
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      .navbar-brand {
        font-size: 2.5rem;
        color: #81c408 !important;
      }

      .nav-link {
        font-size: 1.1rem;
        font-weight: 500;
        color: #6c757d !important;
        margin-right: 15px;
      }

      .nav-link.active {
        color: #81c408 !important;
      }

      .icon-btn {
        border: 1px solid #ffb524;
        border-radius: 50%;
        width: 45px;
        height: 45px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #81c408;
        position: relative;
        margin-left: 10px;
      }

      
      .cart-icon {
        background-color: #81c408;
        border-radius: 50%;
        width: 45px;
        height: 45px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
        margin-left: 10px;
      }

      .cart-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: #ffb524;
        color: white;
        border-radius: 50%;
        padding: 0 6px;
        font-size: 0.75rem;
      }
    </style>
</head>
<body>
     <!-- navbar -->
    <div class="sec1">
      <nav class="navbar navbar-expand-lg bg-light p-3 fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand fw-bold" href="#"> Fruitables </a>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
              <li class="nav-item">
                <a class="nav-link active" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="Shop.html">Shop</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="shop_detail.html">Shop Detail</a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdownPages"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Pages1
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownPages">
                  <li><a class="dropdown-item" href="Card.html">Card</a></li>
                  <li>
                    <a class="dropdown-item" href="Checkout.html">Checkout</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="Testimonial.html"
                      >Testimonial</a
                    >
                  </li>
                  <li><a class="dropdown-item" href="#">404 Page</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Contact</a>
              </li>
            </ul>
          </div>
          <div class="d-flex align-items-center">
            <a href="#" class="icon-btn me-2">
              <i class="fa-solid fa-magnifying-glass"></i>
            </a>
            <a href="#" class="cart-icon position-relative me-2">
              <i class="fa-solid fa-shopping-bag"></i>
               <span class="cart-badge" id="cart-count"></span>
            </a>
            <a href="#" class="cart-icon">
              <i class="fa-solid fa-user"></i>
            </a>
          </div>
        </div>
      </nav>
    </div>

    <div class="container py-5" id="cart-page-section">
  <center><h1 style="color: cornflowerblue;margin-bottom: 30px;">Your Cart</h1></center>
  <div class="row g-4" id="cart-items-container"></div>
</div>
<div class="container py-5" id="empty-cart-message" style="display:none;">
  <p>Your cart is empty. Add some products to see them here!</p>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const cartItemsContainer = document.getElementById("cart-items-container");
    const emptyCartMessage = document.getElementById("empty-cart-message");

    function updateCartCount() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let total = cart.reduce((sum, item) => sum + item.quantity, 0);
      const cartCountBadge = document.getElementById('cart-count');
      if (cartCountBadge) {
        cartCountBadge.textContent = total;
      }
    }

    function renderCart() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        emptyCartMessage.style.display = "block";
        document.getElementById("cart-page-section").style.display = "none";
      } else {
        emptyCartMessage.style.display = "none";
        document.getElementById("cart-page-section").style.display = "block";
        cart.forEach((item, idx) => {
          const cartItemDiv = document.createElement("div");
          cartItemDiv.className = "col-12 col-sm-6 col-md-3";
          cartItemDiv.innerHTML = `
            <div class="card h-100 shadow-sm rounded-3 overflow-hidden">
              <div class="position-relative">
                <img src="${item.img}" class="card-img-top" alt="${item.name}">
                <span class="badge bg-success position-absolute top-0 end-0 m-2">In Cart</span>
              </div>
              <div class="card-body d-flex flex-column">
                <h5 class="card-title text-center">${item.name}</h5>
                <p class="card-text text-center text-muted">Quantity: <span class="product-quantity">${item.quantity}</span></p>
                <div class="d-flex justify-content-between align-items-center mt-auto pt-3">
                  <span class="fs-5 fw-bold product-price">${item.price}</span>
                  <button class="btn btn-danger btn-sm remove-from-cart" data-index="${idx}">Remove</button>
                </div>
              </div>
            </div>
          `;
          cartItemsContainer.appendChild(cartItemDiv);
        });
      }
    }

    cartItemsContainer.addEventListener("click", function (e) {
      if (e.target.classList.contains("remove-from-cart")) {
        const idx = parseInt(e.target.getAttribute("data-index"));
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart.splice(idx, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
        updateCartCount();
      }
    });

    renderCart();
    updateCartCount();
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>